共享单车是一种基于互联网的新型出行方式，它通过智能锁、GPS定位等技术，实现了用户随时随地租用、还车的便捷性。随着用户规模不断扩张，共享单车的出行数据也在不断积累。这些数据包含了用户的出行轨迹、借还车时间、地点等信息，为研究城市出行行为、交通规划等提供了新的数据来源。鉴于此，本研究拟通过处理并分析共享单车轨迹数据，以探究共享单车的出行模式，特别的，本研究将结合路网匹配算法，将共享单车的出行模式分析拓展到道路级别。

具体的本研究拟探究以下问题：

- 共享单车出行的时空分布特点是什么？借还车的时空热点集中在哪些时间和地点？
- 哪些道路是共享单车的高频和低频使用道路，这些道路有何异同？
- 哪些道路因素影响人们的出行选择？道路坡度、绿视率、交通设施等因素对共享单车的使用有何影响？

为此，本研究提出了一种道路级别的共享单车骑行时空模式分析方法（Figure 1）。并以上海市为例：

- 通过共享单车的GPS轨迹数据及多源大数据，采用GeoHash编码、最邻近匹配算法及隐马尔可夫模型，将混乱的GPS数据与Open Street Map（OSM）交通路网进行匹配，重建大规模的骑行轨迹。
- 在时间维度上，统计各时段道路的骑行量，绘制分时热力图，提取工作日和非工作日的骑行高峰和低谷时间；
- 空间上，结合兴趣点（POI）数据，使用贪心算法识别共享单车的主要出行目的地。构建潮汐指数，识别出共享单车的借还车潮汐点及潮汐区。
- 采用随机森林模型（RF），将工作日与非工作日单位道路的高峰和低谷期骑行量作为因变量，选取包括道路平均坡度、与公交站及地铁站的距离、绿视率等8个自变量，进行回归建模，并通过因子重要性分析评估各因素对道路骑行量的影响。研究结果为城市规划及共享单车管理等提供合理化建议，以更好地促进上海市慢行交通系统的发展。

Figure 1. Framework of methodology.